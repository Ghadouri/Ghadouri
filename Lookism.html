<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Lookism Chapter Viewer">
    <meta name="keywords" content="manga, Lookism, PDF viewer">
    <title>Lookism - Chapter Viewer</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&display=swap">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            text-align: center;
        }
        header {
            background-color: #004d00; /* Very strong green */
            padding: 20px;
            display: flex;
            align-items: center;
            color: red; /* Red text color for the logo */
            position: relative;
            max-width: 1200px; /* Adjust width of the header */
            margin: 0 auto; /* Center the header */
        }
        header img {
            height: 80px; /* Size of the logo */
            margin-right: 20px; /* Space between logo and text */
        }
        header h1 {
            font-family: 'Roboto', sans-serif; /* Stylish font */
            font-size: 2.5em; /* Larger text size */
            font-weight: 700; /* Bold text */
            margin: 0;
            flex-grow: 1;
            text-align: center;
            color: #ff4500; /* Bright red color for text */
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.6); /* Text shadow */
            letter-spacing: 1px; /* Spacing between letters */
        }
        .content {
            margin: 50px auto;
            max-width: 1200px; /* Adjust width of the container */
        }
        .page-container {
            margin-top: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .page-container img {
            max-width: 100%;
            height: auto;
            border: 1px solid #ddd;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }
        footer {
            background-color: #004d00; /* Matching header green */
            color: white;
            padding: 10px;
            position: fixed;
            width: 100%;
            bottom: 0;
            text-align: center;
            max-width: 1200px; /* Adjust width of the footer */
            margin: 0 auto; /* Center the footer */
        }
        footer p {
            margin: 0;
        }
    </style>
</head>
<body>
    <header>
        <img src="logo-GH.png" alt="GH Logo">
        <h1>Lookism Chapter Viewer</h1>
    </header>

    <div class="content">
        <div class="page-container" id="page-container">
            <!-- PDF pages as images will be inserted here by JavaScript -->
        </div>
    </div>

    <footer>
        <p>Website by Ghadouri</p>
    </footer>

    <script src="pdf.mjs"></script>
    <script src="pdf.worker.mjs"></script>
    <script>
        // Get the chapter number from the URL
        const urlParams = new URLSearchParams(window.location.search);
        const chapterNumber = urlParams.get('chapter');

        if (chapterNumber) {
            // Format chapter number with leading zeros
            const formattedChapterNumber = chapterNumber.padStart(3, '0');
            // URL of the PDF file
            const pdfUrl = `Lookism chapter ${formattedChapterNumber}.pdf`;

            // PDF.js setup
            pdfjsLib.getDocument(pdfUrl).promise.then(pdf => {
                const pageContainer = document.getElementById('page-container');
                const numPages = pdf.numPages;

                // Iterate over each page in the PDF
                for (let i = 1; i <= numPages; i++) {
                    pdf.getPage(i).then(page => {
                        const viewport = page.getViewport({ scale: 1 });
                        const canvas = document.createElement('canvas');
                        const context = canvas.getContext('2d');
                        canvas.width = viewport.width;
                        canvas.height = viewport.height;

                        const renderContext = {
                            canvasContext: context,
                            viewport: viewport
                        };
                        page.render(renderContext).promise.then(() => {
                            const img = document.createElement('img');
                            img.src = canvas.toDataURL();
                            pageContainer.appendChild(img);
                        });
                    });
                }
            }).catch(error => {
                console.error('Error loading PDF:', error);
                document.querySelector('.content').innerHTML = '<p>Error loading chapter.</p>';
            });
        } else {
            document.querySelector('.content').innerHTML = '<p>No chapter selected.</p>';
        }
    </script>
</body>
</html>
